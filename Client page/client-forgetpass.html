<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link href="https://cdn.lineicons.com/5.0/lineicons.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <link rel="stylesheet" href="css/style-client-login.css">
    <title>Gossips Login Page </title>
</head>

<body>
    
    <div class="container" id="container">
        <div class=" forget-password">
            <button class="back-button" onclick="goBack()">
                <i class="lni lni-arrow-left"></i> 
            </button>
            <form id="forgetPasswordForm">
                <h1>Reset Password</h1>
                <input type="email" id="resetEmail" placeholder="Email" required>
                <input type="password" id="newPassword" placeholder="New Password" required>
                <button type="button" onclick="resetPassword()">Change Password</button>
            </form>
        </div>
    </div>
    <style>
        .container {
        width: 300px;
        margin: 0 auto; 
        }

        .form-container {
        display: flex;
        flex-direction: column; 
        align-items: center; 
        justify-content: center; 
        height: 100%; 
        }
        .back-button {
            background-color: #f8f9fa;
            border: none;
            color: #333;
            font-size: 16px;
            padding: 10px 20px;
            cursor: pointer;
            margin-bottom: 30px;
            display: flex;
            justify-content: center;
            width: 0px;
        }

        .back-button i {
            margin-right: 0px; /* Space between icon and text */
        }

        /* Style for the form */
        #forgetPasswordForm {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        </style>
    <script>
         // Function to go back to the previous page
         function goBack() {
            window.history.back();
        }
        // Reset Password Function
        function resetPassword() {
            const email = document.getElementById("resetEmail").value.trim();
            const newPassword = document.getElementById("newPassword").value.trim();

            // Check if both fields are filled out
            if (!email || !newPassword) {
                alert("Please fill out both the email and new password fields.");
                return; // Stop further execution
            }

            // Retrieve users from localStorage
            const users = JSON.parse(localStorage.getItem("users")) || {};

            // Check if email exists in the users object
            if (users[email]) {
                // Update password
                users[email].password = newPassword;
                localStorage.setItem("users", JSON.stringify(users));
                alert("Password updated successfully!");
                // Redirect back to login page
                window.location.href = "client-login.html";
            } else {
                alert("Email not found!");
            }
        }

    </script>
    <script src="js/script-client-login.js"></script>
</body>

</html>
